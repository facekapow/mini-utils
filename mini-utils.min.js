"use strict";!function(e,t){"undefined"!=typeof require&&"undefined"==typeof define?t(module.exports,!0):(e.__={},t(e.__,!1))}(this,function(e,t){function s(){}if(e.isNode=function(){return t},e.isBrowser=function(){return"undefined"!=typeof window},e.isWebWorker=function(){return"undefined"!=typeof onmessage&&"undefined"!=typeof postMessage&&"undefined"!=typeof self&&"undefined"==typeof window?!0:!1},e.isElectron=function(){return e.isNode()&&e.isBrowser()},e.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},e.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},e.clone=function(e){if("object"!=typeof e||null===e)return e;var t=e.constructor();for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);return t},e.nextTick=function(t){if(!e.isNode()||e.isBrowser()||e.isWebWorker()){if(!e.isNode()&&e.isBrowser()&&!e.isWebWorker()){if(window.setImmediate)return window.setImmediate(t);for(var s=window.requestAnimationFrame,n=["ms","moz","webkit","o"],r=0;r<n.length&&!s;r++)s=window[n[r]+"RequestAnimationFrame"];if(s)return s.call(window,t)}}else{if(process.nextTick)return process.nextTick(t);if(setImmediate)return setImmediate(t)}return setTimeout(t,0)},s.prototype._events={},s.prototype.on=function(e,t){return this._events[e]||(this._events[e]={listeners:[]}),this.emit("newListener",e,t),this._events[e].listeners.push({func:t,once:!1}),this._events[e].listeners.length>this.getMaxListeners()&&(console.log("(miniUtils) warning: possible EventEmitter memory leak detected. "+this._events[e].listeners.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit."),console.trace()),this},s.defaultMaxListeners=10,s.prototype._max=10,s.prototype._maxModified=!1,s.prototype.setMaxListeners=function(e){return this._max=e,this._maxModified=!0,this},s.prototype.getMaxListeners=function(){return this._maxModified?this._max:s.defaultMaxListeners},s.prototype.listenerCount=function(e){return this._events[e]||(this._events[e]={listeners:[]}),this._events[e].listeners.length},s.listenerCount=function(e,t){return e._events[t]||(e._events[t]={listeners:[]}),e._events[t].listeners.length},s.prototype.addListener=s.prototype.on,s.prototype.removeListener=function(e,t){this._events[e]||(this._events[e]={listeners:[]});for(var s=0;s<this._events[e].listeners.length;s++)if(this._events[e].listeners[s].func===t){var n=this._events[e].listeners.splice(s,1);this.emit("removeListener",e,n.func);break}return this},s.prototype.removeAllListeners=function(e){this._events[e]||(this._events[e]={listeners:[]});for(var t=this._events[e].listeners.length,s=0;t>s;s++){var n=this._events[e].listeners.splice(0,1);this.emit("removeListener",e,n.func)}return this},s.prototype.listeners=function(e){this._events[e]||(this._events[e]={listeners:[]});for(var t=[],s=0;s<this._events[e].listeners.length;s++)t.push(this._events[e].listeners[s].func);return t},s.prototype.once=function(e,t){return this._events[e]||(this._events[e]={listeners:[]}),this.emit("newListener",e,t),this._events[e].listeners.push({func:t,once:!0}),this._events[e].listeners.length>this.getMaxListeners()&&(console.log("(miniUtils) warning: possible EventEmitter memory leak detected. "+this._events[e].listeners.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit."),console.trace()),this},s.prototype.emit=function(){for(var e=arguments[0],t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);this._events[e]||(this._events[e]={listeners:[]});for(var s=0;s<this._events[e].listeners.length;s++)this._events[e].listeners[s].func.apply(this._events[e].listeners[s].func,t),this._events[e].listeners[s]&&this._events[e].listeners[s].once&&this._events[e].listeners.splice(s,1);return 0===this._events[e].listeners.length?!1:!0},e.EventEmitter=s,e.isBrowser()||e.isNode()||!e.isWebWorker()||(self._events={},self.addEventListener("message",function(e){var t,s=e.data;try{t=JSON.parse(s)}catch(n){return}if(t.isMiniUtilsEvent&&t.ev&&t.data){self._events[t.ev]||(self._events[t.ev]={listeners:[]});for(var r=0;r<self._events[t.ev].listeners.length;r++)self._events[t.ev].listeners[r].func.apply(self._events[t.ev].listeners[r].func,t.data),self._events[t.ev].listeners[r]&&self._events[t.ev].listeners[r].once&&self._events[t.ev].listeners.splice(r,1)}}),self.on=function(e,t){return"message"===e?(self.addEventListener("message",t),this):(self._events[e]||(self._events[e]={listeners:[]}),self.emit("newListener",e,t),self._events[e].listeners.push({func:t,once:!1}),this)},self.once=function(e,t){function s(){t(),self.removeEventListener("message",s)}return"message"===e?(self.addEventListener("message",s),this):(self._events[e]||(self._events[e]={listeners:[]}),self.emit("newListener",e,t),self._events[e].listeners.push({func:t,once:!0}),this)},self.removeListener=function(e,t){self._events[e]||(self._events[e]={listeners:[]});for(var s=0;s<self._events[e].listeners.length;s++)if(self._events[e].listeners[s].func===t){var n=self._events[e].listeners.splice(s,1);self.emit("removeListener",e,n.func);break}return this},self.removeAllListeners=function(e){self._events[e]||(self._events[e]={listeners:[]});for(var t=0;t<self._events[e].listener.length;t++){var s=self._events[e].listeners.splice(t,1);self.emit("removeListener",e,s.func)}return this},self.emit=function(){var e=arguments[0];if("string"!=typeof e)self.postMessage(e);else{for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);self.postMessage(JSON.stringify({isMiniUtilsEvent:!0,ev:e,data:t}))}return this}),!e.isWebWorker()&&!e.isNode()&&e.isBrowser()||e.isElectron()){Worker.prototype.appendEmitter=function(){var e=this;this.addEventListener("message",function(t){var s,n=t.data;try{s=JSON.parse(n)}catch(r){return}if(s.isMiniUtilsEvent&&s.ev&&s.data){e._events[s.ev]||(e._events[s.ev]={listeners:[]});for(var i=0;i<e._events[s.ev].listeners.length;i++)e._events[s.ev].listeners[i].func.apply(e._events[s.ev].listeners[i].func,s.data),e._events[s.ev].listeners[i]&&e._events[s.ev].listeners[i].once&&e._events[s.ev].listeners.splice(i,1)}}),this._emitterAppended=!0},Worker.prototype._events={},Worker.prototype.on=function(e,t){return this._emitterAppended||this.appendEmitter(),"message"===e?(this.addEventListener("message",t),this):(this._events[e]||(this._events[e]={listeners:[]}),this.emit("newListener",e,t),this._events[e].listeners.push({func:t,once:!1}),this)},Worker.prototype.once=function(e,t){function s(){t(),n.removeEventListener("message",s)}this._emitterAppended||this.appendEmitter();var n=this;return"message"===e?(this.addEventListener("message",s),this):(this._events[e]||(this._events[e]={listeners:[]}),this.emit("newListener",e,t),this._events[e].listeners.push({func:t,once:!0}),this)},Worker.prototype.removeListener=function(e,t){this._emitterAppended||this.appendEmitter(),this._events[e]||(this._events[e]={listeners:[]});for(var s=0;s<this._events[e].listeners.length;s++)if(this._events[e].listeners[s].func===t){var n=this._events[e].listeners.splice(s,1);this.emit("removeListener",e,n.func);break}return this},Worker.prototype.removeAllListeners=function(e){this._emitterAppended||this.appendEmitter(),this._events[e]||(this._events[e]={listeners:[]});for(var t=0;t<this._events[e].listeners.length;t++){var s=this._events[e].listeners.splice(t,1);this.emit("removeListener",e,s.func)}return this},Worker.prototype.emit=function(){this._emitterAppended||appendEmitter(this);var e=arguments[0];if("string"!=typeof e)this.postMessage(e);else{for(var t=[],s=1;s<arguments.length;s++)t.push(arguments[s]);this.postMessage(JSON.stringify({isMiniUtilsEvent:!0,ev:e,data:t}))}return this},EventTarget.prototype.on=function(e,t){return this.addEventListener(e,t),this},EventTarget.prototype.once=function(e,t){function s(){t(),n.removeEventListener(e,s)}var n=this;return this.addEventListener(e,s),this},EventTarget.prototype.emit=function(e){if(!e)throw new Error("EventTarget.emit requires an event (Event or string)!");e instanceof Event||(e=new Event(e)),this.dispatchEvent(e)},EventTarget.prototype.removeListener=function(e,t){this.removeEventListener(e,t)};var n=HTMLDocument||Document;n.prototype.on=function(e,t){return this.addEventListener(e,t),this},n.prototype.once=function(e,t){function s(){t(),n.removeEventListener(e,s)}var n=this;return this.addEventListener(e,s),this},n.prototype.ready=function(e){return this.addEventListener("DOMContentLoaded",e),this},n.prototype.get=function(e){return"#"===e.substr(0,1)?this.getElementById(e.substr(1)):"."===e.substr(0,1)?this.getElementsByClassName(e.substr(1)):this.getElementsByTagName(e)},n.prototype.create=function(e,t){if("string"==typeof e&&"undefined"==typeof t)return this.createElement(e);if("string"==typeof e&&"object"==typeof t){var s=this.createElement(e);if("undefined"!=typeof t.css)for(var n in t.css)s.style[n]=t.css[n];var r={style:!0,dataset:!0};for(var i in r)!function(e){if("undefined"!=typeof t[e]&&null!==t[e])for(var n in t[e])s[e][n]=t[e][n]}(i);for(var n in t)r[n]||(s[n]=t[n]);return s}};var r=HTMLElement||Element;r.prototype.on=function(e,t){return this.addEventListener(e,t),this},r.prototype.once=function(e,t){function s(){t(),n.removeEventListener(e,s)}var n=this;return this.addEventListener(e,s),this},r.prototype.remove=function(){return this.parentElement.removeChild(this),this},r.prototype.text=function(e){return e?(this.textContent=e,this):this.textContent},r.prototype.html=function(e){return e?(this.innerHTML=e,this):this.innerHTML},r.prototype.centerToWindow=function(e){return"undefined"==typeof e||null===e?(this.style.marginLeft=window.innerWidth/2-this.offsetWidth/2+"px",this.style.marginTop=window.innerHeight/2-this.offsetHeight/2+"px"):e===!0?this.style.marginLeft=window.innerWidth/2-this.offsetWidth/2+"px":e===!1&&(this.style.marginTop=window.innerHeight/2-this.offsetHeight/2+"px"),this},r.prototype.prependChild=function(e){return this.insertBefore(e,this.firstChild),this},r.prototype.css=function(e,t){if("string"==typeof e)return t?(this.style[e]=t,this):this.style[e];if(e instanceof Array){if(!t){for(var s=[],n=0;n<e.length;n++)s.push(this.style[e[n]]);return s}if(e.length>t.length)throw new Error("element.css(): not enough values in value array argument.");for(var n=0;n<e.length;n++)this.style[e[n]]=t[n];return this}if("object"==typeof e){for(var r in e)this.style[r]=e[r];return this}throw new Error("element.css(): unknown arguments.")},r.prototype.hasMultipleOfClass=function(e){for(var t=this.className.split(" "),s=0,n=0;n<t.length;n++)t[n]===e&&s++;return s>1?!0:!1},r.prototype.hasClass=function(e){for(var t=this.className.split(" "),s=!1,n=0;n<t.length;n++)if(t[n]===e){s=!0;break}return s},r.prototype.addClass=function(e){var t=" ";return""===this.className&&(t=""),this.className+=t+e,this},r.prototype.removeClass=function(e){for(var t=this.className.split(" "),s=0;s<t.length;s++)t[s]===e&&t.splice(s,1);return this.className=t.join(" "),this},r.prototype.hide=function(){return this.style.display="none",this},r.prototype.show=function(){return this.style.display="",this},r.prototype.toggle=function(){return"none"===this.style.display?this.style.display="":this.style.display="none",this}}(e.isBrowser||e.isWebWorker()&&!e.isNode()||e.isElectron())&&(e["import"]=function(t,s){if(!s)throw new Error("Must provide callback.");t||s(new Error("Must provide URL."),null);var n=new XMLHttpRequest;n.open("GET",t+".js"),n.send();var r={exports:{}};n.addEventListener("readystatechange",function(){if(4===n.readyState){if(200!==n.status)return s(new Error(n.statusText),null);var i=new Function("exports","__","module","__filename","__dirname",n.responseText);i(r.exports,e,r,t+".js",t.substr(0,t.lastIndexOf("/"))),s(null,r.exports)}})},e.importSync=function(t){if(!t)throw new Error("Must provide URL.");var s=new XMLHttpRequest;if(s.open("GET",t+".js",!1),s.send(),200!==s.status)throw new Error(s.statusText);var n={exports:{}},r=new Function("exports","__","module","__filename","__dirname",s.responseText);return r(n.exports,e,n,t+".js",t.substr(0,t.lastIndexOf("/"))),n.exports},e.easyRequest=function(e,t){if(!e){if(t)return t(new Error("Must provide url."),null);throw new Error("Must provide url.")}var s=new XMLHttpRequest;return s.addEventListener("readystatechange",function(){4===s.readyState&&t&&t(null,s.response)}),t?s.open("GET",e):s.open("GET",e,!1),s.send(),t?void 0:s.response},e.easyPost=function(e,t,s){if(t||(t=null),!e){if(s)return s(new Error("Must provide url."),null);throw new Error("Must provide url.")}var n=new XMLHttpRequest;return n.addEventListener("readystatechange",function(){4===n.readyState&&s&&s(null,n.response)}),s?n.open("POST",e):n.open("POST",e,!1),n.send(t),s?void 0:n.response}),(!e.isBrowser||!e.isWebWorker()&&e.isNode()||e.isElectron())&&(e.homeDir=function(){return process.env["win32"===process.platform?"USERPROFILE":"HOME"]})});